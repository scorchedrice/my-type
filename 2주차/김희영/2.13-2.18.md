# 2.13 ê°ì²´ ê°„ì— ëŒ€ì…í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë²•ì„ ë°°ìš°ì

```js
interface A {
  name: string;
}
const bObj = {
  name: "zero",
  age: 32,
};
const bToA: A = bObj;
// -> Aì—ëŠ” ì •ì˜ëœ ageê°€ ì—†ëŠ”ë° ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•ŠìŒ

interface B {
  name: string;
  age: number;
}
const aObj = {
  name: "zero",
};
const aToB: B = aObj;
// -> Bì—ëŠ” ageê°€ ì •ì˜ë˜ì–´ìˆëŠ”ë° ì´ë¥¼ ì“°ì§€ ì•Šì•˜ë”ë‹ˆ ì˜¤ë¥˜ê°€ ë°œìƒ
```

A âŠƒ B ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ A âŠ‚ BëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤

â“ ì™œ

âœ… ë„“ì€ íƒ€ì…ì€ ì¢ì€ íƒ€ì…ì— ëŒ€ì…í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ì¢ì€ -> ë„“ì€ìœ¼ë¡œëŠ” ëŒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤.

ì¢ì€ íƒ€ì… vs ë„“ì€ íƒ€ì…

-

```ts
interface A {
  name: string;
} // ->  ë„“ë‹¤

interface B {
  name: string;
  age: number;
} //-> ì¢ë‹¤
```

Aíƒ€ì…ì´ Bíƒ€ì…ë³´ë‹¤ ë„“ì€(=ì¶”ìƒì ì¸) íƒ€ì…ì´ë‹¤.

> ğŸ“ ì–´ë–¤ íƒ€ì…ì´ ë” ë„“ì€ì§€ í—·ê°ˆë¦°ë‹¤ë©´ ì†ì„±ì´ ë§ì„ìˆ˜ë¡ ë” ì¢ì€ íƒ€ì…ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ì¡°ê±´ì´ ë” ë§ë‹¤ëŠ” ê²ƒì€ êµ¬ì²´ì ì´ë¼ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ë” ì¢ì€ íƒ€ì…ì´ë‹¤.

|(ìœ ë‹ˆì˜¨), &(ì¸í„°ì„¹ì…˜)ì˜ ëŒ€ì… ê°€ëŠ¥ì„±ì„ í™•ì¸í•´ë³´ì

-

```ts
interface A {
    name: string;
}
interface B {
    age: number;
}
function test (): A | B {
    if (Math.random() > 0.5) {
        return {
            age: 28,
        };
    }
    return {
        name: "zero",
    };
}
const target1 : A & B =test(); âŒ
const target2: A = test(); âŒ
const target3: B = test(); âŒ
```

â“ ì™œ ì˜¤ë¥˜ê°€ ë°œìƒí• ê¹Œ?

âœ… target1ì€ A, B íƒ€ì…ì„ ëª¨ë‘ ê°€ì ¸ì•„í•œë‹¤. í•˜ì§€ë§Œ test()ëŠ” A, B ì¤‘ í•˜ë‚˜ë§Œ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë‚œë‹¤.
target2ì™€ target3ì€ í™•ì •ì ìœ¼ë¡œ ì§ì ‘ íƒ€ì…ì„ í• ë‹¹í•˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë‚œë‹¤.

## íŠœí”Œ, ë°°ì—´ì˜ ëŒ€ì… ê°€ëŠ¥ì„±ì„ í™•ì¸í•´ë³´ì

- íŠœí”Œ: ë°°ì—´ë³´ë‹¤ ë” ì—„ê²©í•œ íƒ€ì…ì„ ê°€ì§„ë‹¤. ê¸¸ì´ì™€ ê° ìœ„ì¹˜ì˜ íƒ€ì…ì„ ê³ ì •í•œë‹¤.

- ë°°ì—´: ê°™ì€ íƒ€ì…ì˜ ìš”ì†Œë¥¼ ì—¬ëŸ¬ ê°œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ìë£Œ êµ¬ì¡°

â—ï¸ íŠœí”Œì€ ë°°ì—´ë³´ë‹¤ ì¢ì€(=ì œí•œì ì¸) íƒ€ì…ì´ë‹¤. ê³ ë¡œ (ë°°ì—´->íŠœí”Œ) íŠœí”Œì„ ë°°ì—´ì— ë„£ì„ ìˆ˜ ìˆì§€ë§Œ (ë°°ì—´->íŠœí”Œ) ë°°ì—´ì„ íŠœí”Œì— ë„£ì„ ìˆ˜ëŠ” ì—†ë‹¤.

```ts
let a: ["hi", "readonly"] = ["hi", "readonly"]; // íŠœí”Œ
let b: string[] = a; // â­•ï¸ íŠœí”Œì„ ë°°ì—´ì— ë„£ì„ ìˆ˜ ìˆìŒ

let b: string[] = ["hi", "normal"];
let a: ["hi", "readonly"] = b; // âŒ ë°°ì—´ì„ íŠœí”Œì— ë„£ì„ ìˆ˜ ì—†ìŒ
```

- ë°°ì—´,íŠœí”Œì— readonly ìˆ˜ì‹ì–´ë¥¼ ë¶™ì¼ ìˆ˜ ìˆë‹¤. readonly ìˆ˜ì‹ì–´ê°€ ë¶™ì€ ë°°ì—´ì´ ë” ë„“ì€ íƒ€ì…ì´ë‹¤.

1. readonly ë°°ì—´ vs ë°°ì—´

```ts
let a: readonly string[] = ["read", "only"];
let b: string[] = ["read", "only"];
// bë¥¼ aì— ëŒ€ì…í•  ìˆ˜ ìˆì§€ë§Œ aë¥¼ bì— ëŒ€ì…í•  ìˆ˜ ì—†ë‹¤. (stirng[]ì´ readonly string[]ë³´ë‹¤ ë” ì¢ì€ íƒ€ì…ì„)
```

2.  readonly íŠœí”Œ vs ë°°ì—´

```ts
let a: readonly ["read", "only"] = ["read", "only"];
let b: string[] = ["hi", "world"];

a = b; // âŒ ë°°ì—´ì´ íŠœí”Œë³´ë‹¤ ë” ë„“ì€ íƒ€ì…ì´ë¯€ë¡œ ëŒ€ì… ë¶ˆê°€
b = a; // âŒ readonlyê°€ ë¶™ëŠ”ë‹¤ë©´ ì¼ë°˜ ë°°ì—´ë³´ë‹¤ ë„“ì€ íƒ€ì…ì´ë¯€ë¡œ ëŒ€ì… ë¶ˆê°€, í•˜ì§€ë§Œ readonlyê°€ ë¶™ì–´ì„œ ì•ˆë˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì›ë˜ íŠœí”Œì€ ë°°ì—´ë³´ë‹¤ ì¢ì€ íƒ€ì…ì´ê¸°ë•Œë¬¸ì— ëŒ€ì… ë¶ˆê°€
// ë‘˜ ë‹¤ ì„œë¡œ ëŒ€ì…í•˜ì§€ ëª»í•œë‹¤.
```

3. readonly íŠœí”Œ vs readonly ë°°ì—´

```ts
let a: readonly string[] = ["read", "only"];
let b: readonly [string, number] = ["hi", 123];

a = b; // âŒ  íŠœí”Œì´ ë°°ì—´ë³´ë‹¤ ì¢ê¸° ë•Œë¬¸ì— í• ë‹¹ ë¶ˆê°€
b = a; // â­•ï¸ ë°°ì—´ì´ íŠœí”Œë³´ë‹¤ ë„“ê¸° ë•Œë¬¸ì— í• ë‹¹ ê°€ëŠ¥
```

## ì˜µì…”ë„ ì†ì„±ì˜ ëŒ€ì… ê°€ëŠ¥ì„±ì„ ì•Œì•„ë³´ì

ì†ì„±ì´ ì˜µì…”ë„ì¸ ê°ì²´ê°€ ì˜µì…”ë„ì´ì§€ ì•Šì€ ê°ì²´ë³´ë‹¤ ë„“ì€ íƒ€ì…ì´ë‹¤. ì˜µì…”ë„ì´ë€ ì˜µì…˜ì´ë¼ê³  ìƒê°í•˜ë©´ ë˜ëŠ”ë° ì˜µì…˜ì´ ìˆëŠ” ê²ƒì´ ë” ì„ íƒì§€ê°€ ë§ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì†ì„±ì´ ì˜µì…”ë„ì´ì§€ ì•Šì€ ê°ì²´ë³´ë‹¤ ì˜µì…”ë„ì¸ ê°ì²´ê°€ ë” ë„“ì€ íƒ€ì…ì´ë‹¤.

```ts
type Optional ={
    a?:string;
    b?:string;
}
type NoOptional ={
    a:string;
    b:string;
}
const o: Optional ={
    a: 'hello';
}
const n: NoOptional ={
    a:'hello',
    b:'world',
}
const o2: Optional =n;
const n2: NoOptional =o; // âŒ ì˜µì…”ë„ ì†ì„±(b?)ì´ ë¹ ì§„ ê²½ìš°ë¥¼ ì»¤ë²„í•˜ì§€ ëª»í•´ì„œ ì˜¤ë¥˜ê°€ ë‚œë‹¤.
```

## readonly ì†ì„±ì´ ìˆëŠ” ê°ì²´ì™€ ì—†ëŠ” ê°ì²´ ê°„ì˜ ëŒ€ì… ê°€ëŠ¥ ì—¬ë¶€ì— ëŒ€í•´ ì•Œì•„ë³´ì

readonlyê°€ ë¶™ì–´ë„ ì„œë¡œ ëŒ€ì… ê°€ëŠ¥í•˜ë‹¤.

```ts
type ReadOnly ={
    readonly a:string;
    readonly b:string;
}
type NoReadOnly ={
    a:string;
    b:string;
}
const o: ReadOnly ={
    a: 'hello';
    b: 'bye';
}
const n: NoReadOnly ={
    a:'hello',
    b:'bye',
}
const o2: ReadOnly=n;
const n2: NoOReadOnly =o;
```

## êµ¬ì¡°ì  íƒ€ì´í•‘

ëª¨ë“  ì†ì„±ì´ ë™ì¼í•˜ë©´ ê°ì²´ íƒ€ì…ì˜ ì´ë¦„ì´ ë‹¤ë¥´ë”ë¼ë„ ë™ì¼í•œ íƒ€ì…ìœ¼ë¡œ ì·¨ê¸‰í•œë‹¤.

```ts
interface Student {
  id: number;
  name: string;
}
interface Teacher {
  id: number;
  name: string;
}
const student: Teacher = { id: 1, name: "heeyoung" };
const a: Student = teacher;
```

ë‘ ì¸í„°í˜ì´ìŠ¤ ëª¨ë‘ numberì¸ Id, stringì¸ nameì„ ê°€ì§€ê³  ìˆë‹¤. ì´ì²˜ëŸ¼ êµ¬ì¡°ê°€ ê°™ìœ¼ë©´ ê°™ì€ ê°ì²´ë¡œ ì¸ì‹í•˜ëŠ” ê²ƒì„ <span style="color:#ffd33d">êµ¬ì¡°ì  íƒ€ì´í•‘</span>ì´ë¼ê³  í•œë‹¤.

```ts
interface A {
  name: string;
}
interface B {
  name: string;
  age: number;
}
```

BëŠ” Aì˜ ì†ì„±ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì ì—ì„œ Bì¸í„°í˜ì´ìŠ¤ëŠ” Aì¸í„°í˜ì´ìŠ¤ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ Aì—ëŠ” ageì†ì„±ì´ ì—†ìœ¼ë¯€ë¡œ Aì¸í„°í˜ì´ìŠ¤ëŠ” Bì¸í„°í˜ì´ìŠ¤ë¼ê³  ë³¼ ìˆ˜ ì—†ë‹¤.

```ts
type Arr = number[]; //ex) [1,3,9] type: number
type CopyArr = {
  [Key in keyof Arr]: Arr[key];
};
// ex) keyof Arr -> ë°°ì—´ì˜ ì¸ë±ìŠ¤, Arr[Key] -> ê° í‚¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì˜ íƒ€ì… ì¦‰, number, CopyArr -> { 0: number, 1: number, 2: number, ... }
const copyArr: CopyArr = [1, 3, 9];
```

CopyArrì™€ Arrì˜ ì†ì„±ì´ ê°™ìœ¼ë¯€ë¡œ ë‘˜ì€ êµ¬ì¡°ì ìœ¼ë¡œ ë™ì¼í•˜ë‹¤.

â“ ì™œ?

âœ… ë°°ì—´ë„ ê°ì²´ì´ê¸° ë•Œë¬¸ì— keyê°€ ì¡´ì¬í•œë‹¤. (ì¸ë±ìŠ¤ , ë°°ì—´ì˜ ë‚´ì¥ ì†ì„±(length,push,pop ë“±))

```ts
type SimpleArr = { [key: number]: number; length: number };
// keyì˜ íƒ€ì…ì€ ë„˜ë²„, lengthì˜ íƒ€ì…ì€ ë„˜ë²„(ë°°ì—´ì€ ê¸°ë³¸ì ìœ¼ë¡œ lengthë¼ëŠ” ì†ì„±ì„ ê°€ì§€ê³  ìˆë‹¤.)
const simpleArr: SimpleArr = [1, 2, 3];
```

[1,2,3]ê³¼ {[key:number]:number,length:number}ëŠ” ë™ì¼í•œ ì†ì„±ì´ë¼ê³  ë³¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ëŒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤.

â“ ëŒ€ì…ì„ ë¶ˆê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ

âœ… ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ êµ¬ì¡°ì ìœ¼ë¡œ ë™ì¼í•˜ì§€ ì•Šê²Œ í•´ì•¼í•œë‹¤.

```ts
interface Student {
  _type: "student";
  id: number;
  name: string;
}
interface Teacher {
  _type: "teacher";
  id: number;
  name: string;
}
const student: Student = { id: 1, name: "heeyoung", type: "student" }; // â­•ï¸
const a: Student = teacher; // âŒ _typeì´ ë‹¤ë¥´ë¯€ë¡œ ëŒ€ì… ë¶ˆê°€ëŠ¥í•˜ë‹¤.

// ì†ì„±ì´ ê²¹ì¹˜ì§€ ì•ŠëŠ” ì´ë¦„(_type)ì€ ë¸Œëœë“œ ì†ì„±ì´ë¼ê³  ë¶€ë¥¸ë‹¤. ê·¸ë¦¬ê³  ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë¸Œëœë”©ì´ë¼ê³  í•œë‹¤.
```

# 2.14 ì œë„¤ë¦­ìœ¼ë¡œ íƒ€ì…ì„ í•¨ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ì

- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ ì¤‘ë³µ ì œê±°í•˜ëŠ” ë²•
  - ê³µí†µëœ ì†ì„±ì„ í•˜ë‚˜ë¡œ ë¬¶ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì¤‘ë³µì„ ì œê±°í•œë‹¤.

```js
const person1 = {
  type: "human",
  food: "pizza",
  name: "heeyoung",
  age: 26,
};
const person2 = {
  type: "human",
  food: "pizza",
  name: "zeus",
  age: 22,
};
// ì¤‘ë³µì œê±°
const personFactory = (name, age) => ({
  type: "human",
  food: "pizza",
  name,
  age,
});
const person1 = personFactory("heeyoung", 26);
const person1 = personFactory("zero", 22);
```

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ ì¤‘ë³µ ì œê±°í•˜ëŠ” ë²•
  - ì œë„¤ë¦­ì„ ì‚¬ìš©í•´ì„œ ì¤‘ë³µì„ ì œê±°í•œë‹¤.
  - íƒ€ì… ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ì™€ íƒ€ì… ì¸ìˆ˜ì˜ ê°œìˆ˜ê°€ ì¼ì¹˜í•´ì•¼í•œë‹¤.
  - ì œë„¤ë¦­ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê²ƒ : ì¸í„°í˜ì´ìŠ¤, í´ë˜ìŠ¤, íƒ€ì… ë³„ì¹­, í•¨ìˆ˜

```ts
//ì¸í„°í˜ì´ìŠ¤
interface person1 = {
    type: 'human',
    food:'pizza',
    name: 'heeyoung',
    age:26
}
interface person2 = {
    type: 'human',
    food:'pizza',
    name: 'zero',
    age:22
}
interface Person<N,A>{
    type:'human',
    food:'pizza',
    name:N,
    age:A
}
interface Heeyoung extends Person<'heeyoung',26>{}
interface Zero extends Person<'zero',22>{}

interface Heeyoung extends Person<'heeyoung'>{} // âŒ íƒ€ì… ì¸ìˆ˜ê°€ ì¼ì¹˜í•˜ì§€ ì•Šì•„ì„œ ì˜¤ë¥˜ ë°œìƒ
interface Zero extends Person<'zero',22,'good'>  // âŒ íƒ€ì… ì¸ìˆ˜ê°€ ì¼ì¹˜í•˜ì§€ ì•Šì•„ì„œ ì˜¤ë¥˜ ë°œìƒ
//íƒ€ì…
type Person<N,A>= {
    type:'human',
    food:'pizza',
    name:N,
    age:A,
}

type Heeyoung =Person<'heeyoung',26>;
type Zero =Person<'zero',22>;

//í´ë˜ìŠ¤
class Person<N,A>{
    name:N;
    age:A;
    constructor(name:N,age:A){
        this.name=name;
        this.age=age;
    }
}

//í•¨ìˆ˜ í‘œí˜„ì‹
const newPerson = <N,A>(name: N, age: A): Person<N,A>=>({
    type: 'human',
    food: 'pizza',
    name,
    age
})

//í•¨ìˆ˜ ì„ ì–¸ë¬¸
function newPerson<N,A>(name:N,age:A){
    return({
    type: 'human',
    food: 'pizza',
    name,
    age
    })
}
```

- interfaceì™€ typeê°„ì— êµì°¨ ì‚¬ìš©ë„ ê°€ëŠ¥í•˜ë‹¤.

```ts
interface IPerson<N, A> {
  type: "human";
  food: "pizza";
  name: N;
  age: A;
}
type TPerson<N, A> = {
  type: "human";
  food: "pizza";
  name: N;
  age: A;
};

type Heeyoung = IPerson<"heeyoung", 26>;
interface Zero extends TPerson<"zero", 26> {}
```

> ğŸ“ ì œë„¤ë¦­ ì‚¬ìš© ë°©ë²•
>
> interface ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> {...}
>
> type ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> = {...}
>
> class ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> {...}
>
> function ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> (...) {...}
>
> const í•¨ìˆ˜ì´ë¦„ =<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> (...) => {...}

- íƒ€ì… ë§¤ê°œë³€ìˆ˜ëŠ” ê¸°ë³¸ê°’(default)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ê¸°ë³¸ê°’ìœ¼ë¡œ ì •ì˜ëœ íƒ€ì…ì€ í›„ì— ë®ì–´ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤. Person2ëŠ” Nì˜ íƒ€ì…ì´ numberë¡œ ì •ì˜ë˜ì—ˆê¸° ë•Œë¬¸ì— ê¸°ë³¸ê°’ì¸ stringì—ì„œ numberë¡œ ë®ì–´ì”Œì›Œì§„ë‹¤. AëŠ” ì •ì˜ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ê¸°ë³¸ ê°’ì¸ numberê°€ ëœë‹¤.
Person3ì€ number,booleanìœ¼ë¡œ ì •ì˜ë˜ì—ˆê¸° ë•Œë¬¸ì— ê¸°ë³¸ê°’ì¸ string, numberì—ì„œ number,booleanìœ¼ë¡œ ë®ì–´ì”Œì›Œì§„ë‹¤.

```ts
interface IPerson<N = string, A = number> {
  type: "human";
  food: "pizza";
  name: N;
  age: A;
}
type Person1 = Person;
type Person2 = Person<number>;
type Person3 = Person<number, boolean>;
```

- ì œë„¤ë¦­ì— íƒ€ì…ì„ ì§ì ‘ ë„£ì§€ ì•Šì•„ë„ ì¶”ë¡ ì´ ê°€ëŠ¥í•˜ë‹¤.

```ts
interface IPerson<N, A> {
  type: "human";
  food: "pizza";
  name: N;
  age: A;
}

const CPerson = <N, A = unknown>(name: N, age: A): Person<N, A> => ({
  type: "human",
  food: "pizza",
  name: N,
  age: A,
});

const zero = CPerson("zero", 22);
```

- ìƒìˆ˜ íƒ€ì… ë§¤ê°œë³€ìˆ˜ (íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ 5.0ë²„ì „)

```ts
function values<T>(initial: T[]) {
  return {
    hasValue(value: T) {
      return initial.includes(value);
    },
  };
}

const savedValues = values(["a", "b", "c"]);
savedValues.hasValues("x");
// T ->['a','b','c'] ì´ë¯€ë¡œ stringìœ¼ë¡œ ì¶”ë¡ ëœë‹¤.
```

- stringìœ¼ë¡œ ì¶”ë¡ ë˜ì§€ì•Šê³  a | b | c ë¡œ ì¶”ë¡ ë˜ê²Œ í•˜ê³  ì‹¶ë‹¤ë©´ íƒ€ì… ë§¤ê°œë³€ìˆ˜ ì•ì— const ìˆ˜ì‹ì–´ë¥¼ ë¶™ì´ë©´ ëœë‹¤.

```ts
function values<const T>(initial: T[]) {
  return {
    hasValue(value: T) {
      return initial.includes(values);
    },
  };
}
const savedValues = values(["a", "b", "c"]);
savedValues.hasValue("x"); // âŒ a,b,cê°€ ì•„ë‹ˆë¯€ë¡œ ì˜¤ë¥˜ ë°œìƒ
```

## ì œë„¤ë¦­ì— ì œì•½ ê±¸ê¸°

íƒ€ì… ë§¤ê°œë³€ìˆ˜ì—ëŠ” ì œì•½(constraint)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì‚¬ìš©ë²• : extends

â—ï¸ íƒ€ì…ì˜ ìƒì†ì„ ì˜ë¯¸í•˜ëŠ” extendsì™€ ë‹¤ë¥´ë‹¤.

```ts
interface Example<A extends number, B=string>{
    a:A,
    b:B,
}
// -> Aì˜ íƒ€ì…ì€ ë¬´ì¡°ê±´ numberì—¬ì•¼ í•œë‹¤.
type Case1 = Example<string, boolean>; âŒ
type Case2 = Example<1, boolean>; â­•ï¸
type Case3 = Example<number>; â­•ï¸
```

```ts
interface Example<A,B extends A>{
    a:A,
    b:B,
}
// -> B íƒ€ì…ì€ A íƒ€ì…ì´ì—¬ì•¼ í•œë‹¤.
type Case1 = Example<string, boolean>; âŒ
type Case2 = Example<string, 'hello'>; â­•ï¸
type Case3 = Example<number,123>; â­•ï¸
```

> ğŸ“ ì œì•½ extends ì‚¬ìš©ë²•
>
> ![alt text](image.png)

- íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì œì•½ì„ ë™ì¼í•˜ê²Œ ìƒê°í•˜ë©´ ì•ˆëœë‹¤.

```ts
interface V {
  value: any;
}
const returnV = <T extends V>(): T => {
  return { value: "test" };
}; // âŒ ì˜¤ë¥˜ ë°œìƒ
```

â“ {value: 'test'}ëŠ” value:anyë¥¼ ë§Œì¡±í•˜ëŠ”ë° ì™œ ì˜¤ë¥˜ê°€ ë‚ ê¹Œ?

âœ… {value:string, another:string} ì¼ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```ts
function onlyBoolean<T extends boolean>(arg: T = false): T {
  return arg;
}
// âŒ ì˜¤ë¥˜ ë°œìƒ
```

â“ TëŠ” booleanì¸ë° ì™œ ê¸°ë³¸ê°’ìœ¼ë¡œ ë„£ìœ¼ë‹ˆ ì˜¤ë¥˜ê°€ ë‚˜ì§€?

âœ… Tê°€ neverì¼ ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ false, trueë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ë„£ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë‚œë‹¤.

# 2.15 ì¡°ê±´ë¬¸ê³¼ ë¹„ìŠ·í•œ ì»¨ë””ì…”ë„ íƒ€ì…ì´ ìˆë‹¤.

ì»¨ë””ì…”ë„ íƒ€ì…ì´ë€ ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ íƒ€ì…ì´ ë˜ëŠ” ê²ƒì´ë‹¤. ì¤‘ì²©í•´ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

ì‚¬ìš©ë²• : **íŠ¹ì • íƒ€ì… extends ë‹¤ë¥¸ íƒ€ì… ? ì°¸ì¼ ë•Œ íƒ€ì… : ê±°ì§“ì¼ ë•Œ íƒ€ì…**

```ts
type A1 = string;
type B1 = A1 extends string ? number : boolean;

type A2 = number;
type B2 = A2 extends string ? number : boolean;
```

ì—¬ê¸°ì„œì˜ extendsëŠ” ì‚¼í•­ì—°ì‚°ìì²˜ëŸ¼ ì‚¬ìš©ëœë‹¤. ì‰½ê²Œ `A1 = string ? number : boolean;
A2 = string ? number : boolean;` ë¼ê³  ë°”ê¿” ìƒê°í•˜ë©´ í¸í•œë°, A1ì´ stringì´ë©´ B1ì€ number, ì•„ë‹ˆë©´ booleanì´ë‹¤.
A2ì˜ íƒ€ì…ì€ stringì•„ë‹ˆë¯€ë¡œ B2ëŠ” booleanì´ ëœë‹¤.

## ì»¨ë””ì…”ë„ íƒ€ì…ì„ í™œìš©í•œ íƒ€ì… ê²€ì‚¬

ì‚¼í•­ì—°ì‚°ìì²˜ëŸ¼ ê±¸ëŸ¬ì§€ê¸° ë•Œë¬¸ì— ì»¨ë””ì…”ë„ íƒ€ì…ì„ í™œìš©í•´ì„œ íƒ€ì…ì„ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤.

```ts
type One = "hi" extends string ? true : false;
// true
type Two = [1] extends [string] ? true : false;
// false
```

## ì»¨ë””ì…”ë„ íƒ€ì… + never

- ì œë„¤ë¦­ê³¼ í•¨ê»˜ ë§ì´ ì‚¬ìš©ëœë‹¤.

```ts
type ChooseArray<A> = A extends string ? string[] : never;
type StringArray = ChooseArray<string>; // string[]
type Never = ChooseArray<number>; // never
```

- neverì€ ëª¨ë“  íƒ€ì…ì— ëŒ€ì…ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ëª¨ë“  íƒ€ì…ì„ extendsí•  ìˆ˜ ìˆë‹¤.

```ts
type Result = never extends string ? true : false; // true
```

- keyê°€ neverì´ë©´ ì†ì„±ì´ ì œê±°ëœë‹¤

```ts
type OmitByType<O, T> = {
  [K in keyof O as O[k] extends T ? never : K]: O[K];
};
type Result = OmitByType<
  {
    name: string;
    age: number;
    married: boolean;
    rich: boolean;
  },
  boolean
>;
// O[k] extends T ? never : K ì—ì„œ ì†ì„±ì˜ íƒ€ì…ì´ T ì´ë©´ neverê°€ ëœë‹¤. ì—¬ê¸°ì„œ TëŠ” booleanì´ë¯€ë¡œ booleanì´ ì œê±°ë˜ì–´ name, ageë§Œ ë‚¨ëŠ”ë‹¤.
```

## ì»¨ë””ì…”ë„ íƒ€ì… ë¶„ë°°ë²•ì¹™

ì»¨ë””ì…”ë„ íƒ€ì…ì€ ìœ ë‹ˆì˜¨ íƒ€ì…(|)ì´ ì˜¬ ê²½ìš° ë¶„ë°°ëœë‹¤.
ì¦‰, T extends U ? X : Y í˜•íƒœì—ì„œ Tê°€ ìœ ë‹ˆì˜¨ íƒ€ì…ì´ë©´ ê°œë³„ì ìœ¼ë¡œ í‰ê°€ëœë‹¤.

```ts
type A = string | number;
type B = A extends string ? A[] : never; // BëŠ” neveríƒ€ì…ì´ë‹¤.
```

Aì— stringì´ ìˆìœ¼ë¯€ë¡œ A[] íƒ€ì…ì´ ë˜ì–´ì•¼í•œë‹¤ê³  ì˜ˆìƒí•˜ì§€ë§Œ ê²°ê³¼ëŠ” neveríƒ€ì…ìœ¼ë¡œ ì •ì˜ëœë‹¤.

â“`(string extends string ? string[] : never) 
| (number extends string ? number[] : never)` ë¡œ ë¶„ë°° ë˜ì–´ ê²°ê³¼ ê°’ì€ `string[] | never`ì´ë ‡ê²Œ ë‚˜ì˜¤ê²Œ ë˜ê³  neverì€ ì œê±°ë˜ë¯€ë¡œ `B = string[]`ê°€ ë˜ì–´ì•¼í•˜ëŠ”ê±° ì•„ë‹Œê°€?

âœ… A[] ëŠ” string[], number[]ì´ ì•„ë‹Œ **(string | number)[]** ì´ê¸° ë•Œë¬¸ì— neverë¡œ ì •ì˜ë˜ëŠ” ê²ƒì´ë‹¤.

â“ string[] ì„ ì–»ê³ ì‹¶ë‹¤ë©´?

âœ… ì œë„¤ë¦­ì„ í™œìš©í•˜ë©´ ëœë‹¤.

```ts
type A = string | number;
type WrapIfString<T> = T extends string ? T[] : never;
let B: WrapIfString<A> = ["hi"]; // string[]
```

---

ë¶„ë°°ë²•ì¹™ì´ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.

```ts
type IsString<T> = T extends string ? true : false;
type Result = IsString<"hi" | 3>;
```

ì‹¤í–‰ê³¼ì •ì„ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

1. IsString<'hi'> | IsString<3>
2. ('hi' extends string ? true : false) | (3 extends string ? true : false)
3. true | false
4. boolean íƒ€ì… ë„ì¶œ

ë¶„ë°°ë²•ì¹™ì´ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ ë§‰ëŠ” ë°©ë²•ì€ **ë°°ì—´ì„ ì œë„¤ë¦­ìœ¼ë¡œ ê°ì‹¸ëŠ” ê²ƒ**ì´ë‹¤.

```ts
type IsString1<T> = T extends string ? true : false;
type IsString2<T> = [T] extends [string] ? true : false; // ë°°ì—´ì„ ì œë„¤ë¦­ìœ¼ë¡œ ê°ì‹¼ë‹¤.

type Result1 = IsString1<"hi" | 3>; // boolean
type Result2 = IsString2<"hi" | 3>; // false
```

---

neverë„ ë¶„ë°° ë²•ì¹™ì˜ ëŒ€ìƒì´ë‹¤. neverì€ ìœ ë‹ˆì–¸ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë¶„ë°° ë²•ì¹™ì˜ ëŒ€ìƒì´ ì•„ë‹ˆë¼ ì˜ë¬¸ì„ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ ì˜ˆì™¸ì ìœ¼ë¡œ ìœ ë‹ˆì–¸ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.

```ts
type A<T> = T extends string ? true : false;
type AA = A<never>;
```

â“ neverì€ ëª¨ë“  íƒ€ì…ì„ extendsí•  ìˆ˜ ìˆë‹¤ê³  í–ˆìœ¼ë¯€ë¡œ trueê°€ ë‚˜ì™€ì•¼í•œë‹¤ê³  ìƒê°í•˜ì§€ë§Œ ê²°ê³¼ê°’ì€ neverì´ë‹¤ ì™œì¼ê¹Œ?

âœ… neverëŠ” ìœ ë‹ˆì˜¨ íƒ€ì…ì—ì„œ **ì•„ë¬´ê²ƒë„ ì—†ëŠ” ìƒíƒœ(=ê³µì§‘í•©)** ë¥¼ ì˜ë¯¸í•˜ë¯€ë¡œ, í‰ê°€í•  ê°’ì´ ì—†ì–´ì„œ ì „ì²´ ê²°ê³¼ê°€ neverì´ ëœë‹¤.

# 2.16 í•¨ìˆ˜ì™€ ë©”ì„œë“œë¥¼ íƒ€ì´í•‘í•˜ì.

1ï¸âƒ£ ë‚˜ë¨¸ì§€ ë¬¸ë²•

ë‚˜ë¨¸ì§€ ë§¤ê°œë³€ìˆ˜ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ”ë°ì—ëŠ” ë‘ê°€ì§€ ìœ ì˜ì‚¬í•­ì´ ìˆë‹¤.

1. ë§¤ê°œë³€ìˆ˜ëŠ” í•­ìƒ ë°°ì—´ì´ë‚˜ íŠœí”Œ íƒ€ì…ì´ì–´ì•¼í•œë‹¤.
2. ë‚˜ë¨¸ì§€ ë§¤ê°œë³€ìˆ˜ ë¬¸ë²•ì€ ë§¤ê°œë³€ìˆ˜ì˜ ë§ˆì§€ë§‰ ìë¦¬ì—ë§Œ ìœ„ì¹˜í•´ì•¼ í•œë‹¤.

```ts
const example = (a: string, ...b: number[]) => {};
example("hi", 1, 2, 3, 45);

const errorExample = (...a: string[], b: number) => {}; // âŒ ë‚˜ë¨¸ì§€ ë§¤ê°œë³€ìˆ˜ ë¬¸ë²•ì€ ë§¤ê°œë³€ìˆ˜ì˜ ë§ˆì§€ë§‰ ìë¦¬ì—ë§Œ ìœ„ì¹˜í•´ì•¼í•œë‹¤.
```

2ï¸âƒ£ ì „ê°œ ë¬¸ë²•

```ts
const example = (...args: [number, string, boolean]) => {};
example(1, "hi", true);
//-> const example: (args_0: number, args_1: string, args_2: boolean) => void
```

3ï¸âƒ£ this

#### í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

---

ë§¤ê°œë³€ìˆ˜ **ì²«ë²ˆì§¸ ìë¦¬**ì— ëª…ì‹œì ìœ¼ë¡œ í‘œê¸°í•´ì•¼í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ëª…ì‹œí–ˆë‹¤ê³  ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. í˜¸ì¶œí•  ë•Œ .call() ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.

```ts
function example(this: Window) {
  console.log(this);
} // â­•ï¸ this: Window

example.call(window);

const example = (this: Window) => {
  console.log(this);
}; // âŒ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œëŠ” thisë¥¼ ì§€ì •í•  ìˆ˜ ì—†ìŒ
```

â“ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ thisë¥¼ ì“°ê³  ì‹¶ë‹¤ë©´?

âœ… bind()ë¥¼ í™œìš©í•˜ë©´ ëœë‹¤.

```ts
const example = function (this: Window) {
  console.log(this);
}.bind(window);
```

#### ë©”ì„œë“œì—ì„œ thisë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

---

thisê°€ ë°”ë€” ìˆ˜ ìˆì„ ë•ŒëŠ” ëª…ì‹œì ìœ¼ë¡œ íƒ€ì´í•‘í•´ì•¼í•œë‹¤.

```ts
type Animal = {
  age: number;
  type: "dog";
};
const person = {
  name: "zero",
  age: 26,
  sayName() {
    this;
    // this: {
    // name: string;
    // age: number;
    // sayName(): void;
    // sayAge(this: Animal): void;}
    this.name;
  },
  sayAge(this: Animal) {
    this;
    // this: Animal
    this.type;
  },
};
person.sayAge.bind({ age: 3, type: "dog" });
```

---

4ï¸âƒ£ class

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ë¥¼ ìƒì„±ì(constructor)ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤. ëŒ€ì‹ , classë¥¼ ì‚¬ìš©í•´ì„œ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.

```ts
class Person {
  name: string;
  age: number;
  married: boolean;
  constructor(name: string, age: number, married: boolean) {
    this.name = name;
    this.age = age;
    this.married = married;
  }
  sayName() {
    console.log(this.name);
  }
}
const zero = new Person("zero", 28, false);
```

# 2.17 ê°™ì€ ì´ë¦„ì˜ í•¨ìˆ˜ë¥¼ ì—¬ëŸ¬ ë²ˆ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë§¤ê°œë³€ìˆ˜ì— ì–´ë–¤ íƒ€ì…ê³¼ ê°’ì´ ë“¤ì–´ì˜¬ì§€ ë¯¸ë¦¬ íƒ€ì…ì„ ì„ ì–¸í•´ì•¼í•œë‹¤.

## ì˜¤ë²„ë¡œë”©

> ë‘ ë¬¸ìì—´ì„ í•©ì¹˜ê±°ë‚˜, ë‘ ìˆ«ìë¥¼ ë”í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  ì‹¶ë‹¤.
>
> ë¬¸ìì—´ + ìˆ«ìëŠ” ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.
>
> ```ts
> function add2(x: string | number, y: string | number): string | number {
>   return x + y;
> }
>
> add("1", 2); // â­•ï¸ ì›í•˜ì§€ ì•ŠëŠ”ë° ë¨
> add(1, "2"); // â­•ï¸ ì›í•˜ì§€ ì•ŠëŠ”ë° ë¨
> ```
>
> âœ… ì˜¤ë²„ë¡œë”©ì„ ì‚¬ìš©í•œë‹¤.

â—ï¸ì˜¤ë²„ë¡œë”©ì€ í™”ì‚´í‘œí•¨ìˆ˜ì—ì„œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.

```ts
function add(x: number, y: number): number;
function add(x: string, y: string): string;

function add(x: any, y: any): number | string {
  return x + y;
}

console.log(add(10, 20)); // 30
console.log(add("Hello", " World")); // "Hello World"
```

#### ì„ ì–¸ì˜ ìˆœì„œ

---

'HI'ëŠ” stringì´ë¯€ë¡œ ì²«ë²ˆì§¸ì™€ ë‘ë²ˆì§¸ ëª¨ë‘ í•´ë‹¹í•œë‹¤. í•˜ì§€ë§Œ ë¨¼ì € ì„ ì–¸ëœ ì˜¤ë²„ë¡œë”©ì— í•´ë‹¹í•˜ë¯€ë¡œ íƒ€ì…ì€ stringìœ¼ë¡œ ë°˜í™˜ëœë‹¤.

```ts
function example(param: string): string;
function example(param: string | null): number;
function example(param: string | null): string | number {
  if (param) {
    if (param) {
      return "string";
    } else {
      return 123;
    }
  }
}

const result = example("HI"); // const result: string
```

#### ì¸í„°í˜ì´ìŠ¤ì™€ íƒ€ì… ë³„ì¹­ ì˜¤ë²„ë¡œë”© í‘œí˜„

---

```ts
//ì¸í„°í˜ì´ìŠ¤
interface Add {
  (x: number, y: number): number;
  (x: string, y: string): string;
}
const add: Add = (x: any, y: any) => x + y;

//íƒ€ì… ë³„ì¹­
type Add1 = (x: number, y: number) => number;
type Add2 = (x: string, y: string) => string;
type Add = Add1 & Add2;
const add: Add = (x: any, b: any) => x + y;
```

# 2.18 ì½œë°± í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ëŠ” ìƒëµ ê°€ëŠ¥í•˜ë‹¤.

```ts
function example(
  callback: (error: Error | null, result: string | number) => void
) {}
//ì½œë°± í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ëŠ” error, resultê°€ ìˆê³  ê°ê° Error, (string|number)íƒ€ì…ì´ë‹¤.

example((err, res) => {
  if (err) {
    console.error("ì˜¤ë¥˜:", err.message);
    return;
  }
  console.log("ê²°ê³¼:", res);
});
```

â“íƒ€ì…ì„ í‘œê¸°í•˜ì§€ ì•Šì•˜ëŠ”ë° ì—ëŸ¬ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤.

âœ… ë¬¸ë§¥ì  ì¶”ë¡  í˜„ìƒìœ¼ë¡œ ì½œë°± í•¨ìˆ˜ì— ëŒ€í•œ íƒ€ì…ì„ í‘œê¸°í–ˆê¸° ë•Œë¬¸ì— ì½œë°± ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ ëœë‹¤.
