# 2.25 ì •êµí•œ ë¬¸ìì—´ ì¡°ì‘ì„ ìœ„í•´ í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì…ì„ ì‚¬ìš©í•˜ì

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í…œí”Œë¦¿ ë¦¬í„°ëŸ´ : ``(ë°±í‹±), ${}(ë³´ê°„)

`ì´ë¦„ì€ ${name}ì…ë‹ˆë‹¤.`

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ í…œí”Œë¦¿ ë¦¬í„°ëŸ´

- í…œí”Œë¦¿ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ì •í•´ì§„ ë¬¸ìì—´ë§Œ ë³€ìˆ˜ì— ëŒ€ì…í•  ìˆ˜ ìˆë‹¤.
- â€œtemplate â€œ + â€œThis is literalâ€ ì´ì™¸ì˜ ê°’ì„ ê°•ì œì ìœ¼ë¡œ ì œí•œí•˜ëŠ” ê²ƒì´ë‹¤.

```ts
type Literal = "This is literal";
type Template = `template ${Literal}`;
const correct: Template = `template This is literal`; //â­•ï¸
const wrong: Template = "template Something else"; // âŒ ì˜¤ë¥˜ ë°œìƒ

console.log(correct); // -> template This is literal
```

## íƒ€ì…ì„ ë„“í˜€ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

`type Template`ì€ "This is literal â€œ ë’¤ì— ì–´ë–¤ ë¬¸ìì—´ì´ë“  ì˜¬ ìˆ˜ ìˆëŠ” ë¬¸ìì—´ íƒ€ì…

```ts
type Template = `This is literal ${string}`;
let str: Template = `This is literal `; // â­•ï¸
str = "This is literal hello"; // â­•ï¸
str = "This is literal 123"; // â­•ï¸
str = "This is literal"; // âŒ
```

```ts
type City = "seoul" | "suwon" | "busan";
type Vehicle = "car" | "bike" | "walk";
type ID = `${City}ê¹Œì§€ ${Vehicle}ë¥¼ ì´ìš©í•´ì„œ ê°ˆ ê²ƒì…ë‹ˆë‹¤`;
const id: ID = "seoulê¹Œì§€ bikeë¥¼ ì´ìš©í•´ì„œ ê°ˆ ê²ƒì…ë‹ˆë‹¤"; // â­•ï¸
```

Cityì—ëŠ” seoul, suwon, busanì´ ì˜¬ ìˆ˜ ìˆê³  vehicleì—ëŠ” car, bike, walkê°€ ì˜¬ ìˆ˜ ìˆë‹¤.

## ì œë„¤ë¦­ ë° inferë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ë” ê°•ë ¥í•˜ë‹¤.

xxtestxxì—ì„œ x ì§€ìš°ê¸°

```ts
type RemoveX<Str> = Str extends `x${infer Rest}`
  ? RemoveX<Rest>
  : Str extends `${infer Rest}x`
  ? RemoveX<Rest>
  : Str;
type Removed = RemoveX<"xxtestxx">;
```

> ğŸ“ infer
>
> `infer ë³€ìˆ˜ëª…`ìœ¼ë¡œ ì¡°ê±´ë¶€ íƒ€ì…ì—ì„œ íŠ¹ì • ë¶€ë¶„ì„ ì¶”ì¶œí•  ë•Œ ì‚¬ìš©í•œë‹¤.
>
> ```ts
> type RemoveX<Str> = Str extends `x${infer Rest}` ? Rest : never;
> type Result = RemoveX<"xxtestxx">;
> ```
>
> 1ï¸âƒ£ `x${infer Rest}`ëŠ” xxtestxxì—ì„œ ì²«ë²ˆì§¸ ìë¦¬ê°€ xë©´ ë‚˜ë¨¸ì§€ xtestxxë¥¼ ë°˜í™˜í•œë‹¤.<br>
> 2ï¸âƒ£ ê³ ë¡œ, Rest = 'xtestxx'ê°€ ë˜ë¯€ë¡œ ìµœì¢…ì ìœ¼ë¡œ RemoveX<'xxtestxx'>ëŠ” 'xtestxx'ê°€ ëœë‹¤.

ë™ì‘ê³¼ì •

```ts
type RemoveX<Str> = Str extends `x${infer Rest}`
  ? RemoveX<Rest>
  : Str extends `${infer Rest}x`
  ? RemoveX<Rest>
  : Str;
type Removed = RemoveX<"xxtestxx">;
```

1ï¸âƒ£ Str extends `x${infer Rest}` ? RemoveX<Rest> -> 'xxtestxx' ì•ì— 'x'ê°€ ìˆìœ¼ë¯€ë¡œ Rest = 'xtestxx'ê°€ ë˜ê³ , ë‹¤ì‹œ RemoveX<'xtestxx'>ë¥¼ í˜¸ì¶œí•œë‹¤.

2ï¸âƒ£ Str extends `x${infer Rest}` ? RemoveX<Rest> -> 'xtestxx' â†’ ì•ì— 'x'ê°€ ìˆìœ¼ë¯€ë¡œ Rest = 'testxx'ì´ê³ , ë‹¤ì‹œ RemoveX<'testxx'>ë¥¼ í˜¸ì¶œí•œë‹¤.

3ï¸âƒ£ Str extends `x${infer Rest}` ? RemoveX<Rest>ì—ì„œ ë”ì´ìƒ ì§€ìš¸ xê°€ ì—†ìœ¼ë¯€ë¡œ Str extends `${infer Rest}x`ë¡œ ë„˜ì–´ê°„ë‹¤.
'testxx' â†’ ë’¤ì— 'x'ê°€ ìˆìœ¼ë¯€ë¡œ Rest = 'testx'ì´ê³ , ë‹¤ì‹œ RemoveX<'testx'>ë¥¼ í˜¸ì¶œí•œë‹¤.

4ï¸âƒ£ 'testx' â†’ ë’¤ì— 'x'ê°€ ìˆìœ¼ë¯€ë¡œ Rest = 'test'ì´ê³ , ë‹¤ì‹œ RemoveX<'test'>ë¥¼ í˜¸ì¶œí•œ5ï¸ë‹¤.

5ï¸âƒ£ 'test' â†’ ë” ì´ìƒ 'x'ê°€ ì—†ìœ¼ë¯€ë¡œ testê°€ ë°˜í™˜ëœë‹¤.

# 2.26 ì¶”ê°€ì ì¸ íƒ€ì… ê²€ì‚¬ì—ëŠ” satisfies ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œë‹¤.

```ts
const universe = {
    sun: 'star',
    sriius: 'star',
    earth: {type: "planet", parent: "sun"},
}

//ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ì‚¬ìš© -> {type: string, parent: string} | string} ë‘˜ ë‹¤ ë§Œì¡±í•˜ë¯€ë¡œ {type: string, parent: string} | string}ë¡œ íƒ€ì…ì´ ì¶”ë¡ ëœë‹¤.
const universe: {[key in 'sun' | 'sirius' | 'earth']: {type: string, parent: string} | string} = {
    sun:'star',
    sriius:'star',
    earth: {type: 'planet', parent: 'sun'}
}

//satisfies ì‚¬ìš© -> satisfiesì— ì ì€ íƒ€ì…ìœ¼ë¡œ ë‹¤ì‹œ í•œë²ˆ ê²€ì‚¬í•œë‹¤.
const universe = {
    sun: 'star',
    sriius: 'star',
    earth: {type: "planet", parent: "sun"},
}
const universe = {
    sun: 'star',
    sriius: 'star',
    earth: {type: "planet", parent"sun"}, {
        satisfies {
            [key in 'sun' | 'sirius' | 'earth']: {type: string, parent: string} | string
        }
    }
}
```

# 2.27 íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê±´ë§ì¦ì´ ì‹¬í•˜ë‹¤.

```ts
try {
} catch (error) {
  if (error as Error) {
    error.message; // 'error' is of type 'unknown'
  }
}
```

â“ erroríƒ€ì…ì„ Errorë¡œ ê°•ì œí–ˆëŠ”ë° ì™œ íƒ€ì…ì´ 'unknown' ìœ¼ë¡œ ëœ°ê¹Œ? <br>
âœ… ì¡°ê±´ë¬¸ì˜ ì°¸, ê±°ì§“ì„ íŒë‹¨í•  ë•Œë§Œ ì£¼ì¥í•œ íƒ€ì…ì´ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ì¡°ê±´ë¬¸ì„ ë‚˜ì˜¤ë©´ íƒ€ì…ì´ ë‹¤ì‹œ unknownì´ ëœë‹¤.

â“ í•œë²ˆ ì£¼ì¥í•œ íƒ€ì…ì„ ê³„ì† ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´?
âœ… 1. ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.

```ts
try {
} catch (error) {
  const err = error as Error;
  if (err) {
    error.message;
  }
}
```

âœ… 2.instanceofë¥¼ ì‚¬ìš©í•œë‹¤.

```ts
try {
} catch (error) {
  if (error instanceof Error) {
    error.message;
  }
}
```

# 2.28 ì›ì‹œ ìë£Œí˜•ì—ë„ ë¸Œëœë”© ê¸°ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë¸Œëœë”© ê¸°ë²•ì„ ì‚¬ìš©í•˜ë©´ string, number ê°™ì´ ì›ì‹œ ìë£Œí˜• íƒ€ì…ì„ ë” ì„¸ë°€í•˜ê²Œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.

```ts
const kmToMile = (km: number) => {
  return km * 0.62;
};
const mile = kmToMile(3);
console.log(mile); // -> 1.8599999999999999
```

```ts
type Brand<T, B> = T & { _brand: B };
type KM = Brand<number, "km">;
type Mile = Brand<number, "mile">;

const kmToMile = (km: number) => {
  return (km * 0.62) as Mile;
};

const km = 3 as Mile;
const mile = kmToMile(km); // const mileì˜ íƒ€ì…ì€ Mile
const mile2 = 5 as Mile;
kmToMile(mile2); // âŒ kmToMileì—ëŠ” KM íƒ€ì…ë§Œ ì™€ì•¼í•˜ë¯€ë¡œ Mileíƒ€ì…ì€ ë„£ì„ ìˆ˜ ì—†ë‹¤.
```

`type Brand<T,B> = T & {_brand: B};` : TëŠ” ì›ë˜ ìë£Œí˜•(T), BëŠ” ìƒˆë¡œ ë§Œë“¤ ìë£Œí˜•({\_brand: B})<br>
`type KM = Brand<number,'km'>;` : Tì—ëŠ” numberê°€ ë“¤ì–´ê°€ê³  Bì—ëŠ” kmì´ ë“¤ì–´ê°„ë‹¤.
