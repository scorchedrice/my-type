# ğŸ“Œ 2.14 ì œë„¤ë¦­ìœ¼ë¡œ íƒ€ì…ì„ í•¨ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ì.

> - [ì œë„¤ë¦­](#ì œë„¤ë¦­)
> - [ì œë„¤ë¦­ì— ì œì•½ ê±¸ê¸°](#ì œë„¤ë¦­ì—-ì œì•½-ê±¸ê¸°)

## ì œë„¤ë¦­

í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì¤‘ë³µì„ ì œê±°í•˜ë“¯, ì œë„¤ë¦­(generic)ì„ ì‚¬ìš©í•´ íƒ€ì… ê°„ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆë‹¤.
```ts
interface Zero {
  type: 'human',
  race: 'yellow',
  name: 'zero',
  age: 28,
}

interface Nero {
  type: 'human',
  race: 'yellow',
  name: 'nero',
  age: 32,
}
```
```ts
interface Person<N, A> {
  type: 'human',
  race: 'yellow',
  name: N,
  age: A,  
}
interface Zero extends Person<'zero', 28> {}
interface Nero extends Person<'nero', 32> {}
```
ì œë„¤ë¦­ í‘œê¸°ëŠ” `<>`ë¡œ í•˜ë©°, ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ ë°”ë¡œ ë’¤ì— ìœ„ì¹˜í•œë‹¤.
`<>` ì•ˆì— `íƒ€ì… ë§¤ê°œë³€ìˆ˜(Type Parameter)`ë¥¼ ë„£ìœ¼ë©´ ëœë‹¤.
ì„ ì–¸í•œ ì œë„¤ë¦­ì„ ì‚¬ìš©í•  ë•ŒëŠ” `Person<'zero', 28>`ê³¼ ê°™ì´ ë§¤ê°œë³€ìˆ˜ì— ëŒ€ì‘í•˜ëŠ” `ì‹¤ì œ íƒ€ì… ì¸ìˆ˜(Type Argument)`ë¥¼ ë„£ìœ¼ë©´ ëœë‹¤.

### ë°°ì—´ì˜ <>
ë°°ì—´ì˜ íƒ€ì…ì„ í‘œê¸°í•  ë•Œ ì‚¬ìš©í–ˆë˜ Arrayë„ ì œë„¤ë¦­ íƒ€ì…ì´ê¸° ë•Œë¬¸ì— <> ë¶€ë¶„ì´ ìˆë‹¤.
Array íƒ€ì…
```ts
interface Array<T> {
  [key: number]: T,
  length: number,
  //ê¸°íƒ€ ì†ì„±ë“¤
}
```
ì œë„¤ë¦­ì´ ì—†ì—ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìš”ì†Œ íƒ€ì…ë³„ë¡œ Array íƒ€ì…ì„ ë‹¤ë¥´ê²Œ ì„ ì–¸í•´ì•¼ í–ˆì„ ê²ƒì´ë‹¤.
```ts
interface StringArray {
  [key: number]: String,
  length: number,
  //ê¸°íƒ€ ì†ì„±ë“¤
}
interface BooleanArray {
  [key: number]: BooleanArray,
  length: number,
  //ê¸°íƒ€ ì†ì„±ë“¤
}
```
ì œë„¤ë¦­ ë•ë¶„ì— íƒ€ì… ê°„ì— ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì„ ì—†ì• ê³  í•˜ë‚˜ì˜ íƒ€ì…ì„ ì—¬ëŸ¬ ë°©ë²•ìœ¼ë¡œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

### íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì¸ìˆ˜

íƒ€ì… ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ì™€ íƒ€ì… ì¸ìˆ˜ì˜ ê°œìˆ˜ê°€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
```ts
interface Zero extends Person<'zero'> {}
// Generic type 'Person<N, A>' requires 2 type argument(s).
interface Zero extends Person<'zero', 28> {}
interface Zero extends Person<'zero', 28, boolean> {}
// Generic type 'Person<N, A>' requires 2 type argument(s).
```

### í´ë˜ìŠ¤ì™€ íƒ€ì… ë³„ì¹­, í•¨ìˆ˜

ì¸í„°í˜ì´ìŠ¤ë¿ë§Œ ì•„ë‹ˆë¼ í´ë˜ìŠ¤ì™€ íƒ€ì… ë³„ì¹­, í•¨ìˆ˜ë„ ì œë„¤ë¦­ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
```ts
type Person<N, A> = {
  type: 'human',
  race: 'yellow',
  name: N,
  age: A,  
}
type Zero = Person<'zero', 28>;
type Nero = Person<'nero', 32>;
```
```ts
class Person<N, A> {
  name: N;
  age: A;
  constructor(name: N, age: A) {
    this.name = name;
    this.age = age;
  }
}
```

í•¨ìˆ˜ì—ì„œëŠ” í•¨ìˆ˜ ì„ ì–¸ë¬¸ì´ëƒ í‘œí˜„ì‹ì´ëƒì— ë”°ë¼ ì œë„¤ë¦­ í‘œê¸° ìœ„ì¹˜ê°€ ë‹¤ë¥´ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.
```ts
const personFactoryE = <N, A>(name: N, age: A) => ({
  type: 'human',
  race: 'yellow',
  name,
  age,
});

function personFactoryD<N, A>(name: N, age: A) {
  return ({
    type: 'human',
    race: 'yellow',
    name,
    age,
  })
};
```

### interfaceì™€ type ê°„ì— êµì°¨ ì‚¬ìš© ê°€ëŠ¥

```ts
interface IPerson<N, A> {
  type: 'human',
  race: 'yellow',
  name: N,
  age: A,  
}
type TPerson<N, A> = {
  type: 'human',
  race: 'yellow',
  name: N,
  age: A,  
}
type Zero = IPerson<'zero', 28>;
interface Nero extends TPerson<'nero', 32> {}
```

### ì œë„¤ë¦­ì€ ë‹¤ìŒê³¼ ê°™ì€ ìœ„ì¹˜ì— ì‚¬ìš© ê°€ëŠ¥

- interface ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> {...}
- type ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> = {...}
- class ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤> {...}
- function ì´ë¦„<íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤>(...) {...}
- const í•¨ìˆ˜ì´ë¦„ = <íƒ€ì… ë§¤ê°œë³€ìˆ˜ë“¤>(...) => {...}

### ê°ì²´ë‚˜ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì— ë”°ë¡œ ì œë„¤ë¦­ì„ í‘œê¸°
```ts
class Person<N, A> {
  name: N;
  age: A;
  constructor(name: N, age: A) {
    this.name = name;
    this.age = age;
  }
  method<B>(param: B) {}
}

interface IPerson<N, A> {
  type: 'human',
  race: 'yellow',
  name: N,
  age: A,  
  method: <B>(param: B) => void;
}
```
### íƒ€ì… ë§¤ê°œë³€ìˆ˜ì—ëŠ” ê¸°ë³¸ê°’(default)
íƒ€ì… ë§¤ê°œë³€ìˆ˜ì—ëŠ” ê¸°ë³¸ê°’(default)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```ts
interface Person<N = string, A = number> {
  type: 'human',
  race: 'yellow',
  name: N,
  age: A,  
}
type Person1 = Person;
// type Person1 = Person<string, number>
type Person2 = Person<number>;
// type Person2 = Person<number, number>
type Person3 = Person<number, boolean>;
// type Person3 = Person<number, boolean>
```
íƒ€ì… ì¸ìˆ˜ë¡œ `N`ê³¼ `A` ìë¦¬ì— íƒ€ì…ì„ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ ê°ê°ì˜ íƒ€ì… ë§¤ê°œë³€ìˆ˜ëŠ” ê¸°ë³¸ê°’ íƒ€ì…ì´ ëœë‹¤.

### íƒ€ì… ì¶”ë¡ 
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì œë„¤ë¦­ì— ì§ì ‘ íƒ€ì…ì„ ë„£ì§€ ì•Šì•„ë„ ì¶”ë¡ ì„ í†µí•´ íƒ€ì…ì„ ì•Œì•„ë‚¼ ìˆ˜ ìˆìŒ
```ts
interface Person<N, A> {
  type: 'human',
  race: 'yellow',
  name: N,
  age: A,  
}

const personFactoryE = <N, A = unknown>(name: N, age: A): Person<N, A> => ({
  type: 'human',
  race: 'yellow',
  name,
  age,
});

const zero = personFactoryE('zero', 28);
// const zero: Person<string, number>
```
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì¶”ë¡ ì„ í†µí•´ íƒ€ì…ì„ ì•Œì•„ë‚¼ ìˆ˜ ìˆëŠ” ê²½ìš° ì§ì ‘ <>ì— íƒ€ì…ì„ ë„£ì§€ ì•Šì•„ë„ ëœë‹¤.
ì‹¤ì œë¡œë„ ì§ì ‘ ë„£ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë” ë§ë‹¤.

### ìƒìˆ˜ íƒ€ì… ë§¤ê°œë³€ìˆ˜
```ts
function values<const T>(initial: T[]) {
  return {
    hasValue(value: T) { return initial.includes(value) },
  };
}

const savedValues = values(["a", "b", "c"]);
savedValues.hasValue("x");
// Argument of type '"x"' is not assignable to parameter of type '"a" | "b" | "c"'.
```
íƒ€ì… ë§¤ê°œë³€ìˆ˜ ì•ì— const ìˆ˜ì‹ì–´ë¥¼ ì¶”ê°€í•˜ë©´ íƒ€ì… ë§¤ê°œë³€ìˆ˜ Të¥¼ ì¶”ë¡ í•  ë•Œ as constë¥¼ ë¶™ì¸ ê°’ìœ¼ë¡œ ì¶”ë¡ ëœë‹¤.

## ì œë„¤ë¦­ì— ì œì•½ ê±¸ê¸°

íƒ€ì… ë§¤ê°œë³€ìˆ˜ì— `extends` ë¬¸ë²•ìœ¼ë¡œ **ì œì•½(constaint)**ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ìƒì†ì„ ì˜ë¯¸í•˜ë˜ `extends`ì™€ ë‹¤ë¥´ë‹¤.

### ì œì•½ê³¼ ê¸°ë³¸ê°’

ê¸°ë³¸ê°’ìœ¼ë¡œ ì§€ì •í•œ íƒ€ì…ê³¼ ì™„ì „íˆ ë‹¤ë¥¸ íƒ€ì…ì„ ì œê³µí•  ìˆ˜ ìˆì§€ë§Œ, ì œì•½ì— ì–´ê¸‹ë‚˜ëŠ” íƒ€ì„ì„ ì œê³µí•  ìˆ˜ ì—†ë‹¤.

### í•˜ë‚˜ì˜ íƒ€ì… ë§¤ê°œë³€ìˆ˜ê°€ ë‹¤ë¥¸ íƒ€ì… ë§¤ê°œë³€ìˆ˜ì˜ ì œì•½
```ts
interface Example<A, B extends A> {
  a: A,
  b: B,
}
type Usecase1 = Example<string, number>;
// Type 'number' does not satisfy the constraint 'string'.
type Usecase2 = Example<string, 'hello'>;
type Usecase3 = Example<number, 123>;
```
### ìì£¼ ì“°ì´ëŠ” ì œì•½
```ts
<T extends object> // ëª¨ë“  ê°ì²´
<T extends any[]> // ëª¨ë“  ë°°ì—´
<T extends (...args: any) => any> // ëª¨ë“  í•¨ìˆ˜
<T extends abstract new (...args: any) => any> // ìƒì„±ì íƒ€ì…
<T extends keyof any> // string | number | symbol
```
### ì œë„¤ë¦­ì— ì œì•½ì„ ì‚¬ìš©í•  ë•Œ í”íˆ í•˜ëŠ” ì‹¤ìˆ˜

íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì œì•½ì„ ë™ì¼í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì´ë‹¤.
```ts
interface VO {
  value: any;
}

const returnVO = <T extends VO>(): T => {
  return { value: 'test' }; // error
}
```
`T`ëŠ” ì •í™•íˆ `V0`ê°€ ì•„ë‹ˆë¼ `V0`ì— ëŒ€ì…í•  ìˆ˜ ìˆëŠ”ëª¨ë“  íƒ€ì…ì„ ì˜ë¯¸í•œë‹¤.
ì¦‰ `{ value: string, another: string }`ë„ `T`ê°€ ë  ìˆ˜ ìˆë‹¤.
ì´ëŸ¬ë©´ `{ value: string }`ì´ ì•„ë‹ˆê²Œ ë˜ê³  ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

íƒ€ì… ë§¤ê°œë³€ìˆ˜ì™€ ì œì•½ì„ ë™ì¼í•˜ê²Œ ìƒê°í•˜ë©´ ì•ˆ ë˜ê³  íƒ€ì… ë§¤ê°œë³€ìˆ˜ê°€ ì œì•½ì— ëŒ€ì…í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì¸ì§€ë¥¼ ë”°ì ¸ë³´ì•„ì•¼ í•œë‹¤.

### ì œë„¤ë¦­ì„ ì“°ì§€ ì•Šê¸°
`onlyBoolean` í•¨ìˆ˜ë¥¼ ìœ íš¨í•˜ê²Œ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´ ì œë„¤ë¦­ì„ ì“°ì§€ ì•Šìœ¼ë©´ ëœë‹¤.
```ts
function onlyBoolean(arg: true | false = true): true | false {
  return arg;
}
```
ê°•ë°•ì ìœ¼ë¡œ ì œë„¤ë¦­ì„ ì“¸ í•„ìš”ëŠ” ì—†ë‹¤. 
íŠ¹íˆ ì›ì‹œê°’ë§Œ ì‚¬ìš©í•œë‹¤ë©´ ëŒ€ë¶€ë¶„ ì œì•½ì„ ê±¸ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

# ğŸ’¡ ê²°ë¡ 

- ì œë„¤ë¦­ì€ í•¨ìˆ˜ì²˜ëŸ¼ íƒ€ì…ì˜ ì¤‘ë³µì„ ì¤„ì´ê³  ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ëŠ” ê¸°ëŠ¥ì´ë‹¤. 
- `<T>`ë¥¼ ì‚¬ìš©í•´ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ì •ì˜í•˜ë©°, ì¸í„°í˜ì´ìŠ¤, íƒ€ì… ë³„ì¹­, í´ë˜ìŠ¤, í•¨ìˆ˜ ë“±ì— ì ìš©í•  ìˆ˜ ìˆë‹¤. 
- ê¸°ë³¸ê°’ì„ ì„¤ì •í•˜ê±°ë‚˜ `extends`ë¥¼ ì‚¬ìš©í•´ ì œì•½ì„ ê±¸ ìˆ˜ë„ ìˆë‹¤. 
- í•˜ì§€ë§Œ ë¬´ì¡°ê±´ ì œë„¤ë¦­ì„ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ìœ¼ë©°, ë‹¨ìˆœí•œ ê²½ìš°ì—ëŠ” ì¼ë°˜ì ì¸ íƒ€ì… ì„ ì–¸ì´ ë” ì ì ˆí•  ìˆ˜ ìˆë‹¤.

# ğŸ“š Ref

- ë³¸ ë¬¸ì„œëŠ” ì¡°í˜„ì˜. (2023). íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ êµê³¼ì„œ. ê¸¸ë²—ì„ í•™ìŠµí•˜ê³  ìš”ì•½ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.