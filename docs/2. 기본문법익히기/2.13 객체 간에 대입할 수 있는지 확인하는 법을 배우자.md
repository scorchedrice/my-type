# ğŸ“Œ 2.13 ê°ì²´ ê°„ì— ëŒ€ì…í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë²•ì„ ë°°ìš°ì

> - [ëŒ€ì… ì—¬ë¶€ í™•ì¸](#ëŒ€ì…-ì—¬ë¶€-í™•ì¸)
> - [êµ¬ì¡°ì  íƒ€ì´í•‘](#êµ¬ì¡°ì -íƒ€ì´í•‘)

ë³€ìˆ˜ë¥¼ ëŒ€ì…í•  ë–„ëŠ” ê°ì²´ ê°„ì— ëŒ€ì…í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë”°ì ¸ë´ì•¼ í•œë‹¤.
ì¢€ì€ íƒ€ì…ì„ ë„“ì€ íƒ€ì…ì— ëŒ€ì…í•  ìˆ˜ ìˆì§€ë§Œ, ë„“ì€ íƒ€ì…ì€ ì¢ì€ íƒ€ì…ì— ëŒ€ì…í•  ìˆ˜ ì—†ë‹¤.

## ëŒ€ì… ì—¬ë¶€ í™•ì¸

ê°ì²´ì—ë„ ì¢ì€ íƒ€ì…ì€ ë„“ì€ íƒ€ì…ìœ¼ë¡œ ëŒ€ì…í•  ìˆ˜ ìˆì§€ë§Œ, ë„“ì€ íƒ€ì…ì€ ì¢ì€ íƒ€ì…ì— ëŒ€ì…í•  ìˆ˜ ì—†ë‹¤.

```ts
interface A {
  name: string;
}
interface B {
  name: string;
  age: number;
}

const aObj = {
  name: 'zero',
}
const bObj = {
  name: 'nero',
  age: 32,
}
const aToA: A = aObj;
const bToA: A = bObj;
const aToB: B = aObj;
// Property 'age' is missing in type '{ name: string; }' but required in type 'B'.
const bTob: B = bObj;
```
`{ name: string } | { age: number }`ëŠ” `{ name: string, age: number }` ë˜ëŠ” `{ name: string }` ë˜ëŠ” `{ age: number }`ì— ëŒ€ì…í•  ìˆ˜ ì—†ë‹¤.
í•©ì§‘í•©ì€ ê°ê°ì˜ ì§‘í•©ì´ë‚˜ êµì§‘í•©ë³´ë‹¤ ë„“ê¸° ë–„ë¬¸ì´ë‹¤.

### íŠœí”Œê³¼ ë°°ì—´
íŠœí”Œì€ ë°°ì—´ë³´ë‹¤ ì¢ì€ íƒ€ì…ì´ë‹¤. ë”°ë¼ì„œ íŠœí”Œì€ ë°°ì—´ì— ëŒ€ì…í•  ìˆ˜ ìˆìœ¼ë‚˜, ë°°ì—´ì€ íŠœí”Œì— ëŒ€ì…í•  ìˆ˜ ì—†ë‹¤.

```ts
let a: ['hi', 'readonly'] = ['hi', 'readonly'];
let b: string[] = ['hi', 'normal'];

a = b;
// Type 'string[]' is not assignable to type '["hi", "readonly"]'. Target requires 2 element(s) but source may have fewer.
b = a;
```

ë°°ì—´ì´ë‚˜ íŠœí”Œì— readonly ìˆ˜ì‹ì–´ë¥¼ ë¶™ì¼ ìˆ˜ ìˆëŠ”ë°, readonly ìˆ˜ì‹ì–´ê°€ ë¶™ì€ ë°°ì—´ì´ ë” ë„“ì€ íƒ€ì…ì´ë‹¤.
```ts
let a: readonly string[] = ['hi', 'readonly'];
let b: string[] = ['hi', 'normal'];

a = b;
b = a;  // ì—ëŸ¬ ë°œìƒ
```
readonly íŠœí”Œê³¼ ì¼ë°˜ ë°°ì—´ì„ ì„œë¡œ ëŒ€ì…í•˜ë©´ ë‘ ê°€ì§€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
```ts
let a: readonly ['hi', 'readonly'] = ['hi', 'readonly'];
let b: string[] = ['hi', 'normal'];

a = b;
// Type 'string[]' is not assignable to type 'readonly ["hi", "readonly"]'. Target requires 2 element(s) but source may have fewer.
b = a;
// The type 'readonly string[]' is 'readonly' and cannot be assigned to the mutable type 'string[]'.
```
1. ë°°ì—´ì„ íŠœí”Œì— ëŒ€ì…í•˜ë ¤ëŠ” a = bì˜ ê²½ìš°, ë°°ì—´ì´ íŠœí”Œë³´ë‹¤ ë„“ì€ íƒ€ì…ì´ë¯€ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
2. íŠœí”Œì„ ë°°ì—´ì— ëŒ€ì…í•˜ë ¤ëŠ” b = aì˜ ê²½ìš°, íŠœí”Œì´ ë°°ì—´ë³´ë‹¤ ì¢ì€ íƒ€ì…ì¸ ê²ƒì€ ë§ìœ¼ë‚˜ readonly ìˆ˜ì‹ì–´ê°€ ë¶™ëŠ”ë‹¤ë©´ ì¼ë°˜ ë°°ì—´ë³´ë‹¤ ë„“ì€ íƒ€ì…ì´ë¯€ë¡œ ëŒ€ì…í•  ìˆ˜ ì—†ë‹¤.

### ì˜µì…”ë„
ë‘ ê°ì²´ê°€ ìˆê³  ì†ì„±ì´ ë™ì¼í•  ë•Œ, ì†ì„±ì´ ì˜µì…”ë„ì¸ ê°ì²´ê°€ ì˜µì…”ë„ì´ì§€ ì•Šì€ ê°ì²´ë³´ë‹¤ ë” ë„“ì€ íƒ€ì…ì´ë‹¤.
```ts
type Optional = {
  a?: string;
  b?: string;
};
type Mandatory = {
  a: string;
  b: string;
};
const o: Optional = {
  a: 'hello',
};
const m: Mandatory = {
  a: 'hello',
  b: 'world',
};
const o2: Optional = m;
const m2: Mandatory = o;
// Type 'Optional' is not assignable to type 'Mandatory'. Types of property 'a' are incompatible. Type 'string | undefined' is not assignable to type 'string'. Type 'undefined' is not assignable to type 'string'.
```
ì˜µì…”ë„ì´ë€ ê¸°ì¡´ íƒ€ì…ì— undefinedê°€ ìœ ë‹ˆì–¸ëœ ê²ƒê³¼ ê°™ë‹¤.
`ê¸°ì¡´ íƒ€ì… | undefined`ê°€ ê¸°ì¡´ íƒ€ì…ë³´ë‹¤ ë„“ìœ¼ë¯€ë¡œ ë” ë„“ì€ íƒ€ì…ì´ ëœë‹¤.

### readonly
ë°°ì—´ê³¼ ë‹¤ë¥´ê²Œ ê°ì²´ì—ì„œëŠ” ì†ì„±ì— readonlyê°€ ë¶™ì–´ë„ ì„œë¡œ ëŒ€ì…í•  ìˆ˜ ìˆë‹¤.
```ts
type ReadOnly = {
  readonly a: string;
  readonly b: string;
};
type Mandatory = {
  a: string;
  b: string;
};
const o: ReadOnly = {
  a: 'hi',
  b: 'world',
};
const m: Mandatory = {
  a: 'hello',
  b: 'world',
};
const o2: ReadOnly = m;
const m2: Mandatory = o;
```

ì´ë ‡ê²Œ ë„“ì€ íƒ€ì…, ì¢ì€ íƒ€ì…ë§Œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤ë©´ ëˆ„ê°€ ëˆ„êµ¬ì—ê²Œ ëŒ€ì…í•  ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ë¥¼ ì‰½ê²Œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.

## êµ¬ì¡°ì  íƒ€ì´í•‘

êµ¬ì¡°ì  íƒ€ì´í•‘ì€ ê°ì²´ë¥¼ ì–´ë–»ê²Œ ë§Œë“¤ì—ˆë“  ê°„ì— êµ¬ì¡°ê°€ ê°™ìœ¼ë©´ ê°™ì€ ê°ì²´ë¡œ ì¸ì‹í•˜ëŠ” ê²ƒì´ë‹¤.
```ts
interface Money {
  amount: number;
  unit: string;
}

interface Liter {
  amount: number;
  unit: string;
}

const liter: Liter = { amount: 1, unit: 'liter' };
const circle: Money = liter;
```
ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ì„ ì œì™¸í•˜ê³ ëŠ” ë‹¤ë¥¸ ì ì´ ì—†ëŠ” Moneyì™€ Liter ì¸í„°í˜ì´ìŠ¤ë¥¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°™ì€ ê°ì²´ë¡œ ì¸ì‹í•œë‹¤.

2.13ì ˆì— ì²˜ìŒ ë‚˜ì™”ë˜ ì½”ë“œì—ë„ êµ¬ì¡°ì  íƒ€ì´í•‘ì´ ìˆë‹¤.
```ts
interface A {
  name: string;
}
interface B {
  name: string;
  age: number;
}

const aObj = {
  name: 'zero',
}
const bObj = {
  name: 'nero',
  age: 32,
}
const aToA: A = aObj;
const bToA: A = bObj;
const aToB: B = aObj;
// Property 'age' is missing in type '{ name: string; }' but required in type 'B'.
const bTob: B = bObj;
```
A ì¸í„°í˜ì´ìŠ¤ì— ì¡´ì¬í•˜ëŠ” name ì†ì„±ì„ B ì¸í„°í˜ì´ìŠ¤ë„ ê°–ê³  ìˆê¸° ë•Œë¬¸ì— B ì¸í„°í˜ì´ìŠ¤ëŠ” êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì ì—ì„œ A ì¸í„°í˜ì´ìŠ¤ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.
ì´ì²˜ëŸ¼ ì™„ì „íˆ êµ¬ì¡°ê°€ ê°™ì•„ì•¼ë§Œ ë™ì¼í•œ ê²ƒë„ ì•„ë‹ˆê³ , Bê°€ Aë¼ê³  í•´ì„œ Aë„ Bì¸ ê²ƒë„ ì•„ë‹ˆë‹¤.

2.10.2ì ˆì—ì„œ ë°°ì—´ì— ë§¤í•‘ëœ ê°ì²´ íƒ€ì…ì´ ì ìš©ëœ ê²½ìš°ì—ë„ êµ¬ì¡°ì  íƒ€ì´í•‘ì˜ íŠ¹ì„±ì´ ë‚˜íƒ€ë‚œë‹¤.
```ts
type Arr = number[];
type CopyArr = {
  [Key in keyof Arr]: Arr[Key];
}

const copyArr: CopyArr = [1, 3, 9];
```
CopyArrì€ ê°ì²´ íƒ€ì…ì¸ë°ë„ ìˆ«ì ë°°ì—´ì„ ëŒ€ì…í•  ìˆ˜ ìˆë‹¤. 
CopyArr íƒ€ì…ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ì†ì„±ì„ ìˆ«ì ë°°ì—´ì´ ê°–ê³  ìˆìœ¼ë¯€ë¡œ ë‘˜ì€ êµ¬ì¡°ì ìœ¼ë¡œ ë™ì¼í•œ ì…ˆì´ê¸° ë•Œë¬¸ì´ë‹¤.

ì„œë¡œ ëŒ€ì…í•˜ì§€ ëª»í•˜ê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? 
ì„œë¡œë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ì†ì„±ì„ ì¶”ê°€í•´ êµ¬ì¡°ì ìœ¼ë¡œ ë™ì¼í•˜ì§€ ì•Šê²Œ ë§Œë“¤ë©´ ëœë‹¤.
```ts
interface Money {
  __type: 'money';
  amount: number;
  unit: string;
}

interface Liter {
  __type: 'liter';
  amount: number;
  unit: string;
}

const liter: Liter = { amount: 1, unit: 'liter', __type: 'liter' };
const circle: Money = liter;
// Type 'Liter' is not assignable to type 'Money'. Types of property '__type' are incompatible. Type '"liter"' is not assignable to type '"money"'.
```
ì„œë¡œ `__type` ì†ì„±ì´ ë‹¤ë¥´ë¯€ë¡œ ëŒ€ì…ë˜ì§€ ì•ŠëŠ”ë‹¤. 
`__type` ê°™ì€ ì†ì„±ì„ **ë¸Œëœë“œ(brand) ì†ì„±**ì´ë¼ê³  ë¶€ë¥¸ë‹¤. ê·¸ë¦¬ê³  ë¸Œëœë“œ ì†ì„±ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ **ë¸Œëœë”©(branding)**í•œë‹¤ê³  í‘œí˜„í•œë‹¤.

# ğŸ’¡ ê²°ë¡ 

- ë¬´ì–¸ê°ˆ ëŒ€ì…í•  ë•Œ ëŒ€ì… ê°€ëŠ¥í•œ ì—¬ë¶€ë¥¼ ê¼­ í™•ì¸í•´ì•¼ í•œë‹¤.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” êµ¬ì¡°ì  íƒ€ì´í•‘ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¦„ì´ ë‹¬ë¼ë„ êµ¬ì¡°ê°€ ê°™ìœ¼ë©´ ê°™ì€ íƒ€ì…ìœ¼ë¡œ ì¸ì •í•˜ê³ , ì´ë¥¼ ë°©ì§€í•˜ë ¤ë©´ __typeê³¼ ê°™ì€ ë¸Œëœë“œ ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

# ğŸ“š Ref

- ë³¸ ë¬¸ì„œëŠ” ì¡°í˜„ì˜. (2023). íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ êµê³¼ì„œ. ê¸¸ë²—ì„ í•™ìŠµí•˜ê³  ìš”ì•½ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.